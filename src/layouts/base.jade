//- Mixin for post, used on homepage and post page
mixin postHead(post)
  .post-head.group
    a(href="#{data.baseUrl}#{post.url}")
      h1.post-title= post.title
    span.post-date!= [post.date.getUTCFullYear(), post.date.getUTCMonth() + 1, post.date.getUTCDate()].join(' &#183; ')

mixin postHeadList(post)
  .post-head.group
    a(href="#{data.baseUrl}#{post.url}")
      h1.post-title.list= post.title
    span.list.post-date!= [post.date.getUTCFullYear(), post.date.getUTCMonth() + 1, post.date.getUTCDate()].join(' &#183; ')

mixin post(post)
  mixin postHead(post)
  .post-body.markdown!= post.content

doctype 5
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1, user-scalable=no")
    meta(http-equiv="cleartype",content="on")
    link(rel="icon", type="image/png", href="#{data.baseUrl}favicon.ico")
    link(href="#{data.baseUrl}styles/main.css", rel="stylesheet")
    link(href="http://mindthecode.com/feed.xml",type="application/atom+xml",rel="alternate",title="Mindthecode Feed")
    link(rel="author",href="102230925443628784177?rel=author")
    block head
      title= "Mindthecode"
      link(rel="canonical",href="http://mindthecode.com/")
  body
    nav
      .logo
        a(href="#{data.baseUrl}")
          img(src='/images/logo.png')
      .avatar
        a(href="#{data.baseUrl}")
          img(src='/images/avatar.png')
          br
          br
          a(href="https://twitter.com/stefvdham",class="twitter-follow-button",data-show-count="true",data-size="small",data-show-screen-name="false") Follow @stefvdham
        p Stef van den Ham<br />Full stack web developer.<br /> Solving the web pixel by pixel
      .menu.icon-menu
      ul.nav-links
        li.text-link
          a(href="#{data.baseUrl}about.html") about
        //- li.text-link
          //- a(href="#{data.baseUrl}projects.html") projects
        li.text-link
          a(href="#{data.baseUrl}archives.html") archives
      .social-media
        a.icon-github(href="https://github.com/colinwren")
        a.icon-twitter(href="https://twitter.com/colinwrenca")
    .content
      block content
    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js", type="text/javascript")
    script(src="#{data.baseUrl}scripts/main.js", type="text/javascript")
    script.
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-20048990-9']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
