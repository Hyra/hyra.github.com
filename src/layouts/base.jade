//- Mixin for post, used on homepage and post page
mixin postHead(post)
  .post-head.group
    a(href="#{data.baseUrl}#{post.url}")
      h1.post-title= post.title
    hr
    .meta-data
      - var month = new Array(12);
      - month[0] = 'January';
      - month[1] = 'February';
      - month[2] = 'March';
      - month[3] = 'April';
      - month[4] = 'May';
      - month[5] = 'June';
      - month[6] = 'July';
      - month[7] = 'August';
      - month[8] = 'September';
      - month[9] = 'October';
      - month[10] = 'November';
      - month[11] = 'December';
      time(datetime=[post.date.getUTCFullYear(), post.date.getUTCMonth() + 1, post.date.getUTCDate()].join('-'),pubdate=[post.date.getUTCFullYear(), post.date.getUTCMonth() + 1, post.date.getUTCDate()].join('-'))= [month[post.date.getUTCMonth()], post.date.getUTCDate() + ',', post.date.getUTCFullYear()].join(' ')
      div.social
        a(href="https://twitter.com/share", class="twitter-share-button") Tweet
        .g-plusone(data-size="medium", data-annotation="bubble", data-width="300")
        div(class="fb-like",data-width="100",data-layout="button_count",data-action="like",data-show-faces="false",data-share="true")

mixin postHeadList(post)
  - var month = new Array(12);
  - month[0] = 'January';
  - month[1] = 'February';
  - month[2] = 'March';
  - month[3] = 'April';
  - month[4] = 'May';
  - month[5] = 'June';
  - month[6] = 'July';
  - month[7] = 'August';
  - month[8] = 'September';
  - month[9] = 'October';
  - month[10] = 'November';
  - month[11] = 'December';
  .post-head.group.list
    span.list.post-date!= [month[post.date.getUTCMonth()], post.date.getUTCDate() + ',', post.date.getUTCFullYear()].join(' ')
    a(href="#{data.baseUrl}#{post.url}")
      h1.post-title.list= post.title
    //- p= post.description

mixin post(post)
  mixin postHead(post)
  //- mixin share(post)
  .post-body.markdown!= post.content

mixin share(post)
  .share-icons.share-icons-mini
    a(href="https://www.facebook.com/sharer/sharer.php?u=http://mindthecode.com/#{post.url}",class="social-media-facebook social-media-button js-social-popup first")
      span(class="icon-facebook")
      span(class="fb-share-count count-box")
    a(href="https://twitter.com/intent/tweet?text=#{post.title} http://mindthecode.com/#{post.url} via @stefvdham",class="social-media-twitter social-media-button js-social-popup")
      span(class="icon-twitter")
      span(class="tweet-count count-box")
    .is-clear
      &nbsp

doctype 5
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1, user-scalable=no")
    meta(http-equiv="cleartype",content="on")
    link(rel="icon", type="image/png", href="#{data.baseUrl}favicon.ico")
    link(href="#{data.baseUrl}styles/main.css", rel="stylesheet")
    link(href="http://mindthecode.com/feed.xml",type="application/atom+xml",rel="alternate",title="Mindthecode Feed")
    link(rel="author",href="https://plus.google.com/102230925443628784177?rel=author")
    meta(property="fb:admins",content="1322812414")
    meta(property="og:type",content="article")
    meta(property="og:image",content="http://mindthecode.com/images/og_image.png")
    meta(property="og:site_name",content="Mindthecode")
    meta(property="fb:app_id",content="116332715192025")
    meta(name="twitter:creator",content="@stefvdham")
    meta(name="twitter:card",content="summary")
    meta(name="twitter:image:" content="http://mindthecode.com/images/og_image.png")
    block head
      title= "Mindthecode"
      link(rel="canonical",href="http://mindthecode.com/")
      meta(name="description", content="Rambling about all things web.")
      meta(property="og:title",content="Mindthecode")
      meta(property="og:description",content="Rambling about all things web.")
      meta(property="og:url",content="http://mindthecode.com/")
      meta(name="twitter:title",content="Mindthecode")
      meta(name="twitter:description",content="Rambling about all things web.")// Twitter
  body
    header.header(role="header")
      div.container
        block header
          .logo
            a(href='/')
              img(src="http://mindthecode.com/images/logo_white.png")
          .nav
            ul
              li
                a(href="/") Blog
                a(href="/about.html") About
    .container
      .content
        block content
    footer
      a(href="/")
        img(src="/images/logo_small.png")
      p &copy; 2010 - 2014
    .stickyheader
    script(src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js", type="text/javascript")
    script(src="#{data.baseUrl}scripts/main.js", type="text/javascript")
    script.
      if(window.devicePixelRatio) { $("#logo").attr('src', '/images/logo@2x.png'); }
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-20048990-9']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
